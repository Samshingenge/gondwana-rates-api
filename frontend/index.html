<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gondwana Collection - Accommodation Rates</title>
  <meta name="description" content="Search and compare accommodation rates at Gondwana Collection properties"/>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    :root{
      --primary:#2c5530; --secondary:#5d8a3a; --light:#f8fffe; --mid:#e8f5e8;
      --text:#333; --muted:#666; --accent:#d4af37; --error:#dc3545; --ok:#28a745;
      --radius:12px; --shadow:0 8px 25px rgba(44,85,48,0.15);
    }
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;
      background:linear-gradient(135deg,#2c5530 0%,#5d8a3a 50%,#8fbc8f 100%);
      min-height:100vh; padding:20px; color:var(--text);
    }
    .container{
      max-width:1200px; margin:0 auto; background:#fff; border-radius:20px;
      padding:30px; box-shadow:0 20px 40px rgba(0,0,0,0.2); backdrop-filter:blur(10px);
    }
    .header{ text-align:center; margin-bottom:30px; }
    .header h1{
      font-size:clamp(2rem,5vw,3rem);
      background:linear-gradient(45deg,#2c5530,#5d8a3a);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      margin-bottom:8px;
    }
    .header p{ color:var(--muted); }

    .booking-form{ background:var(--light); padding:24px; border-radius:16px; border:2px solid var(--mid); box-shadow:var(--shadow); }
    .form-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:20px; margin-bottom:16px; }
    .form-group{ display:flex; flex-direction:column; gap:8px; }
    label{ font-weight:600; color:var(--primary); }
    input, select{
      padding:12px 14px; border:2px solid #d4edda; border-radius:8px; font-size:16px; background:#fff;
      transition:border-color .2s, box-shadow .2s;
    }
    input:focus, select:focus{ outline:none; border-color:var(--secondary); box-shadow:0 0 0 3px rgba(93,138,58,.12); }

    .date-wrapper{ display:flex; gap:8px; align-items:center; }
    .date-btn{ padding:10px 14px; background:linear-gradient(45deg,#2c5530,#5d8a3a); color:#fff; border:none; border-radius:8px; cursor:pointer; }
    .sr-only{
      position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }

    .ages-container{ display:flex; flex-wrap:wrap; gap:10px; }
    .age-row{ display:flex; align-items:center; gap:8px; }
    .remove-age-btn{ background:#dc3545; color:#fff; border:none; border-radius:8px; padding:8px 12px; cursor:pointer; }
    .btn{
      background:linear-gradient(45deg,#2c5530,#5d8a3a); color:#fff; border:none; padding:12px 18px;
      border-radius:10px; cursor:pointer; font-weight:600; box-shadow:0 4px 15px rgba(44,85,48,.25);
    }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }
    .add-age-btn{ background:#6c757d; }

    .hint{ display:block; color:#666; font-size:12px; }
    .results-section{ margin-top:24px; }
    .results-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:18px; margin-top:14px; }
    .rate-card{
      background:#fff; border-radius:15px; padding:20px; box-shadow:var(--shadow); border-left:5px solid var(--secondary);
    }
    .rate-card h3{ color:var(--primary); margin-bottom:8px; }

    /* availability/price styles */
    .rate-card-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}
    .rate-price{font-size:1.6rem;font-weight:700;color:#5d8a3a;margin:4px 0}
    .rate-price.secondary{font-size:1.1rem;font-weight:600;color:#2c5530;opacity:.9}
    .rate-sub{font-size:.85rem;font-weight:600;color:#666;margin-left:6px}
    .muted{color:#9aa6a6}
    .hint{margin-top:12px;font-size:.9rem;color:#666}
    .availability{display:inline-block;padding:6px 12px;border-radius:999px;font-size:12px;font-weight:700;letter-spacing:.3px;text-transform:uppercase}
    .availability.available{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
    .availability.unavailable{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}

    .loading{ text-align:center; padding:24px; color:#666; }
    .spinner{ border:3px solid #f3f3f3; border-top:3px solid #5d8a3a; border-radius:50%; width:30px; height:30px; animation:spin 1s linear infinite; margin:0 auto 10px; }
    @keyframes spin{ to{ transform:rotate(360deg);} }
    .error{ background:#f8d7da; color:#721c24; padding:12px; border-radius:8px; border-left:4px solid #dc3545; }
    .success{ background:#d4edda; color:#155724; padding:12px; border-radius:8px; border-left:4px solid #28a745; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Gondwana Collection</h1>
      <p>Discover accommodation rates & availability</p>
    </div>

    <div class="booking-form">
      <h2 style="margin-bottom: 10px; color:#2c5530;">Search Accommodation</h2>

      <form id="rateForm" novalidate>
        <div class="form-grid">
          <div class="form-group">
            <label for="unitName">Unit Name</label>
            <select id="unitName" name="unitName" required>
              <option value="">Select a unit type</option>
              <option value="Standard Unit">Standard Unit</option>
              <option value="Deluxe Unit">Deluxe Unit</option>
            </select>
          </div>

          <div class="form-group">
            <label for="arrivalDisplay">Arrival Date (dd/mm/yyyy)</label>
            <div class="date-wrapper">
              <input type="text" id="arrivalDisplay" placeholder="dd/mm/yyyy" readonly />
              <input type="date" id="arrivalISO" class="sr-only" aria-hidden="true" />
              <button type="button" class="date-btn" data-open="arrivalISO" aria-label="Open arrival date calendar">ðŸ“…</button>
            </div>
            <small class="hint">Format dd/mm/yyyy</small>
          </div>

          <div class="form-group">
            <label for="departureDisplay">Departure Date (dd/mm/yyyy)</label>
            <div class="date-wrapper">
              <input type="text" id="departureDisplay" placeholder="dd/mm/yyyy" readonly />
              <input type="date" id="departureISO" class="sr-only" aria-hidden="true" />
              <button type="button" class="date-btn" data-open="departureISO" aria-label="Open departure date calendar">ðŸ“…</button>
            </div>
            <small class="hint">Must be after arrival</small>
          </div>

          <div class="form-group">
            <label for="occupants">Number of Occupants</label>
            <div style="display:flex;gap:8px;align-items:center;">
              <button type="button" class="btn" data-dec-occupant aria-label="Decrease occupants">âˆ’</button>
              <input type="number" id="occupants" name="occupants" min="1" value="2" required style="max-width:100px;text-align:center;" />
              <button type="button" class="btn" data-inc-occupant aria-label="Increase occupants">+</button>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Ages of Occupants</label>
          <div class="ages-container" id="agesContainer"></div>
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button type="button" class="btn add-age-btn" data-add-age>+ Add Age</button>
            <button type="button" class="btn" data-clear-ages style="background:#6c757d;">Clear Ages</button>
          </div>
          <small class="hint">Ages must equal occupants.</small>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <button type="submit" class="btn" id="submitBtn">Search Rates</button>
          <button type="button" class="btn" id="testBtn" style="background:#6c757d;">Test JSON</button>
        </div>
      </form>
    </div>

    <div class="results-section">
      <div id="message"></div>
      <div id="resultsContainer"></div>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>
